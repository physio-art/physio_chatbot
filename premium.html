!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Physio Chatbot</title>
  <style>
    body { font-family: Arial; max-width: 600px; margin: auto; padding: 20px; background: #f4f4f4; }
    .chat-box { border: 1px solid #ccc; padding: 10px; height: 300px; overflow-y: scroll; background: white; }
    .input-area { margin-top: 10px; display: flex; }
    input { flex: 1; padding: 10px; }
    button { padding: 10px; }
    .user { color: blue; }
    .bot { color: green; }
  </style>
</head>
<body>

<h2>ðŸ§  PhysioBot</h2>
<div class="chat-box" id="chatBox"></div>

<div class="input-area">
  <input type="text" id="userInput" placeholder="Ask a physio question..." />
  <button onclick="getResponse()">Send</button>
</div>

<script>
  const responses = {
    "sciatica": "Try piriformis stretch, knee-to-chest stretch, and walking daily.",
  "shoulder impingement": "Pendulum swings, wall walks, and rotator cuff strengthening help.",
  "ankle rehab": "Balance board exercises and resistance band work are useful.",
  "scoliosis": "Work with a physio. Try core strengthening and spinal mobility work.",
  "tennis elbow": "Rest, ice, forearm stretches, and gradual strengthening with bands."
  };

  function getResponse() {
    const input = document.getElementById("userInput").value.toLowerCase();
    const chatBox = document.getElementById("chatBox");

    // Add user message
    chatBox.innerHTML += `<p class="user">You: ${input}</p>`;

    // Match simple keyword
    let found = false;
    for (const key in responses) {
      if (input.includes(key)) {
        chatBox.innerHTML += `<p class="bot">PhysioBot: ${responses[key]}</p>`;
        found = true;
        break;
      }
    }

    if (!found) {
      chatBox.innerHTML += `<p class="bot">PhysioBot: Sorry, I don't understand. Try asking about back pain, posture, or knee pain.</p>`;
    }

    document.getElementById("userInput").value = "";
    chatBox.scrollTop = chatBox.scrollHeight;
  }
</script>
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
      .then(reg => console.log('Service Worker registered!', reg))
      .catch(err => console.error('Service Worker error:', err));
  }
</script>

</body>
</html>
